<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>main</title>
    <link rel="stylesheet" href="main.css">
</head>
<!-- –®–∞–ø–∫–∞ -->
    <header id="header">
        <div class="logo">–ö–æ—Ñ–µ–π–Ω—è</div>
        <nav>
            <ul>
                <li><a href="#header">–ì–ª–∞–≤–Ω–∞—è</a></li>
                <li><a href="#blog">–ë–ª–æ–≥</a></li>
                <li><a href="#contacts">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
                <!-- –ê–¥–º–∏–Ω–∫–∞ -->
                <li><a href="#" onclick="openAdminPanel(); return false;">–ê–¥–º–∏–Ω–∫–∞</a></li>
            </ul>
        </nav>
    </header>
<body>
    <!-- –ë–ª–æ–≥/–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –Ω–∞—Å -->
    <div class="hero" id="home">
        <h1>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –Ω–∞—à—É –∫–æ—Ñ–µ–π–Ω—é!</h1>
        <p>–ú—ã –≥–æ—Ç–æ–≤–∏–º –ª—É—á—à–∏–π –∫–æ—Ñ–µ –≤ –≥–æ—Ä–æ–¥–µ, –∏—Å–ø–æ–ª—å–∑—É—è –æ—Ç–±–æ—Ä–Ω—ã–µ –∑–µ—Ä–Ω–∞ –∏ —Å–æ—Ö—Ä–∞–Ω—è—è —Ç—Ä–∞–¥–∏—Ü–∏–∏ —Ä–µ–º–µ—Å–ª–µ–Ω–Ω–æ–≥–æ –æ–±–∂–∞—Ä–∏–≤–∞–Ω–∏—è. –£ –Ω–∞—Å —É—é—Ç–Ω–∞—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞ –∏ –≤–∫—É—Å–Ω–µ–π—à–∏–µ –¥–µ—Å–µ—Ä—Ç—ã.</p>
    </div>
        <div class="menu-section">
        <h2>–ù–∞—à–µ –º–µ–Ω—é</h2>
        <div class="menu-grid" id="menuContainer">
            <!-- –ë–ª—é–¥–æ 1 -->
            <div class="menu-item">
                <img src="https://images.unsplash.com/photo-1568901346375-23c9450c58cd?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80" alt="–ë—É—Ä–≥–µ—Ä">
                <div class="menu-content">
                    <h3>–ë—É—Ä–≥–µ—Ä "–î–µ–ª–∏–∫–∞—Ç–µ—Å"</h3>
                    <p>–°–æ—á–Ω–∞—è –≥–æ–≤—è–∂—å—è –∫–æ—Ç–ª–µ—Ç–∞, —Å—ã—Ä —á–µ–¥–¥–µ—Ä, —Å–≤–µ–∂–∏–µ –æ–≤–æ—â–∏, —Ñ–∏—Ä–º–µ–Ω–Ω—ã–π —Å–æ—É—Å</p>
                    <div class="price">450 ‚ÇΩ</div>
                    <div class="bju">
                        <span><strong>650</strong> –∫–∫–∞–ª</span>
                        <span><strong>35–≥</strong> –±–µ–ª–∫–∏</span>
                        <span><strong>40–≥</strong> —É–≥–ª–µ–≤–æ–¥—ã</span>
                        <span><strong>30–≥</strong> –∂–∏—Ä—ã</span>
                    </div>
                </div>
            </div>

            <!-- –ë–ª—é–¥–æ 2 -->
            <div class="menu-item">
                <img src="https://images.unsplash.com/photo-1565958011703-44f9829ba187?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80" alt="–°–∞–ª–∞—Ç">
                <div class="menu-content">
                    <h3>–°–∞–ª–∞—Ç "–¶–µ–∑–∞—Ä—å"</h3>
                    <p>–ö—É—Ä–∏–Ω–æ–µ —Ñ–∏–ª–µ, —Å–∞–ª–∞—Ç –∞–π—Å–±–µ—Ä–≥, –ø–∞—Ä–º–µ–∑–∞–Ω, –≥—Ä–µ–Ω–∫–∏, —Å–æ—É—Å —Ü–µ–∑–∞—Ä—å</p>
                    <div class="price">320 ‚ÇΩ</div>
                    <div class="bju">
                        <span><strong>280</strong> –∫–∫–∞–ª</span>
                        <span><strong>25–≥</strong> –±–µ–ª–∫–∏</span>
                        <span><strong>15–≥</strong> —É–≥–ª–µ–≤–æ–¥—ã</span>
                        <span><strong>12–≥</strong> –∂–∏—Ä—ã</span>
                    </div>
                </div>
            </div>

            <!-- –ë–ª—é–¥–æ 3 -->
            <div class="menu-item">
                <img src="https://images.unsplash.com/photo-1578985545062-69928b1d9587?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80" alt="–¢–æ—Ä—Ç">
                <div class="menu-content">
                    <h3>–¢–∏—Ä–∞–º–∏—Å—É</h3>
                    <p>–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –∏—Ç–∞–ª—å—è–Ω—Å–∫–∏–π –¥–µ—Å–µ—Ä—Ç —Å –∫–æ—Ñ–µ –∏ –º–∞—Å–∫–∞—Ä–ø–æ–Ω–µ</p>
                    <div class="price">280 ‚ÇΩ</div>
                    <div class="bju">
                        <span><strong>420</strong> –∫–∫–∞–ª</span>
                        <span><strong>8–≥</strong> –±–µ–ª–∫–∏</span>
                        <span><strong>45–≥</strong> —É–≥–ª–µ–≤–æ–¥—ã</span>
                        <span><strong>22–≥</strong> –∂–∏—Ä—ã</span>
                    </div>
                </div>
            </div>

            <!-- –ë–ª—é–¥–æ 4 -->
            <div class="menu-item">
                <img src="https://images.unsplash.com/photo-1517701604599-bb29b565090c?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80" alt="–õ–∞—Ç—Ç–µ">
                <div class="menu-content">
                    <h3>–õ–∞—Ç—Ç–µ –∞—Ä—Ç</h3>
                    <p>–ö–æ—Ñ–µ —Å –º–æ–ª–æ–∫–æ–º –∏ —Ä–∏—Å—É–Ω–∫–æ–º –Ω–∞ –ø–µ–Ω–∫–µ. –û–±—ä–µ–º 350 –º–ª</p>
                    <div class="price">220 ‚ÇΩ</div>
                    <div class="bju">
                        <span><strong>180</strong> –∫–∫–∞–ª</span>
                        <span><strong>8–≥</strong> –±–µ–ª–∫–∏</span>
                        <span><strong>15–≥</strong> —É–≥–ª–µ–≤–æ–¥—ã</span>
                        <span><strong>8–≥</strong> –∂–∏—Ä—ã</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="blog-section" id="blog">
        <div class="blog-container">
            <h2>–ù–æ–≤–æ—Å—Ç–∏ –∏ –∞–∫—Ü–∏–∏</h2>
            <div class="blog-grid" id="blogContainer">
                <div class="blog-card">
                    <h3>–ù–æ–≤–æ–µ –ª–µ—Ç–Ω–µ–µ –º–µ–Ω—é</h3>
                    <div class="date">15 –º–∞—è 2025</div>
                    <p>–ú—ã –æ–±–Ω–æ–≤–∏–ª–∏ –º–µ–Ω—é! –¢–µ–ø–µ—Ä—å —É –Ω–∞—Å –µ—Å—Ç—å –æ—Å–≤–µ–∂–∞—é—â–∏–µ —Ö–æ–ª–æ–¥–Ω—ã–µ –∫–æ–∫—Ç–µ–π–ª–∏, –ª–µ—Ç–Ω–∏–µ —Å–∞–ª–∞—Ç—ã –∏ –º–æ—Ä–æ–∂–µ–Ω–æ–µ —Ä—É—á–Ω–æ–π —Ä–∞–±–æ—Ç—ã. –ü—Ä–∏—Ö–æ–¥–∏—Ç–µ –ø—Ä–æ–±–æ–≤–∞—Ç—å!</p>
                </div>
                
                <div class="blog-card">
                    <h3>–ê–∫—Ü–∏—è "–°—á–∞—Å—Ç–ª–∏–≤—ã–µ —á–∞—Å—ã"</h3>
                    <div class="date">–î–µ–π—Å—Ç–≤—É–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ</div>
                    <p>–° 15:00 –¥–æ 18:00 —Å–∫–∏–¥–∫–∞ 20% –Ω–∞ –≤–µ—Å—å –∫–æ—Ñ–µ –∏ –¥–µ—Å–µ—Ä—Ç—ã. –ò–¥–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –¥–ª—è –ø–æ—Å–ª–µ–æ–±–µ–¥–µ–Ω–Ω–æ–≥–æ –ø–µ—Ä–µ—Ä—ã–≤–∞!</p>
                </div>
                
                <div class="blog-card">
                    <h3>–í–µ—á–µ—Ä–∏–Ω–∫–∞ –≤ —á–µ—Å—Ç—å –æ—Ç–∫—Ä—ã—Ç–∏—è</h3>
                    <div class="date">30 –º–∞—è 2025</div>
                    <p>–ü—Ä–∏–≥–ª–∞—à–∞–µ–º –Ω–∞ –ø—Ä–∞–∑–¥–Ω–∏–∫ –≤ —á–µ—Å—Ç—å 5-–ª–µ—Ç–∏—è –Ω–∞—à–µ–π –∫–æ—Ñ–µ–π–Ω–∏! –ñ–∏–≤–∞—è –º—É–∑—ã–∫–∞, –¥–µ–≥—É—Å—Ç–∞—Ü–∏—è –Ω–æ–≤—ã—Ö –±–ª—é–¥ –∏ –ø–æ–¥–∞—Ä–∫–∏ –≥–æ—Å—Ç—è–º.</p>
                </div>
            </div>
        </div>
    </div>
     <!-- –ö–æ–Ω—Ç–∞–∫—Ç—ã -->
    <div class="contacts-section" id="contacts">
        <div class="contacts-container">
            <div class="contact-info">
                <h2>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h2>
                
                <div class="contact-item">
                    <i class="fas fa-map-marker-alt"></i>
                    <div>
                        <h3>–ê–¥—Ä–µ—Å</h3>
                        <p>—É–ª. –£–ª–∏—Ü–∞, 1, –£–ª—å—è–Ω–æ–≤—Å–∫</p>
                    </div>
                </div>
                
                <div class="contact-item">
                    <i class="fas fa-phone"></i>
                    <div>
                        <h3>–¢–µ–ª–µ—Ñ–æ–Ω</h3>
                        <p>+7 (999) 999-99-99</p>
                        <p>–ó–∞–∫–∞–∑ —Å—Ç–æ–ª–∏–∫–æ–≤ –∏ –¥–æ—Å—Ç–∞–≤–∫–∞</p>
                    </div>
                </div>
                
                <div class="contact-item">
                    <i class="fas fa-clock"></i>
                    <div>
                        <h3>–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã</h3>
                        <p>–ü–Ω-–ß—Ç: 8:00 - 23:00</p>
                        <p>–ü—Ç-–í—Å: 8:00 - 01:00</p>
                    </div>
                </div>
            </div>
            
            <div class="map">
                <!-- –ö–∞—Ä—Ç–∞ -->
<div style="position:relative;overflow:hidden;"><a href="https://yandex.ru/maps/195/ulyanovsk/?utm_medium=mapframe&utm_source=maps" style="color:#eee;font-size:12px;position:absolute;top:0px;">–£–ª—å—è–Ω–æ–≤—Å–∫</a><a href="https://yandex.ru/maps/195/ulyanovsk/?ll=48.481022%2C54.388736&utm_medium=mapframe&utm_source=maps&z=16" style="color:#eee;font-size:12px;position:absolute;top:14px;">–Ø–Ω–¥–µ–∫—Å¬†–ö–∞—Ä—Ç—ã ‚Äî —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç, –Ω–∞–≤–∏–≥–∞—Ü–∏—è, –ø–æ–∏—Å–∫ –º–µ—Å—Ç</a><iframe src="https://yandex.ru/map-widget/v1/?ll=48.481022%2C54.388736&z=16" width="560" height="400" frameborder="1" allowfullscreen="true" style="position:relative;"></iframe></div>
            </div>
        </div>
    </div>
<!-- –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å -->
<div id="adminPanel" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 1000; justify-content: center; align-items: center;">
    <div style="background: white; padding: 30px; border-radius: 15px; width: 90%; max-width: 600px; max-height: 80vh; overflow-y: auto;">
        <!-- –§–æ—Ä–º–∞ –≤—Ö–æ–¥–∞ -->
        <div id="loginForm">
            <h2 style="color: #2c1810; margin-bottom: 20px;">–í—Ö–æ–¥ –≤ –∞–¥–º–∏–Ω–∫—É</h2>
            <input type="text" id="username" placeholder="–õ–æ–≥–∏–Ω" style="width: 100%; padding: 12px; margin: 10px 0; border: 1px solid #ddd; border-radius: 5px;">
            <input type="password" id="password" placeholder="–ü–∞—Ä–æ–ª—å" style="width: 100%; padding: 12px; margin: 10px 0; border: 1px solid #ddd; border-radius: 5px;">
            <button onclick="handleLogin()" style="background: #d4a762; color: white; border: none; padding: 12px 30px; border-radius: 5px; cursor: pointer; font-size: 16px; width: 100%; margin-top: 10px;">–í–æ–π—Ç–∏</button>
            
            <div style="margin-top: 20px; padding: 15px; background: #f8f5f0; border-radius: 5px;">
                <h4 style="margin-bottom: 10px; color: #2c1810;">–¢–µ—Å—Ç–æ–≤—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã:</h4>
                <p style="margin: 5px 0;">üëë –ê–¥–º–∏–Ω: admin / admin123</p>
                <p style="margin: 5px 0;">üë®‚Äçüíº –ú–µ–Ω–µ–¥–∂–µ—Ä: manager / manager123</p>
                <p style="margin: 5px 0;">üë§ –ì–æ—Å—Ç—å: guest / guest123</p>
            </div>
        </div>

        <!-- –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
        <div id="adminDashboard" style="display: none;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <h2 style="color: #2c1810;">–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</h2>
                <button onclick="handleLogout()" style="background: #f44336; color: white; border: none; padding: 8px 16px; border-radius: 5px; cursor: pointer;">–í—ã–π—Ç–∏</button>
            </div>

            <!-- –í–∫–ª–∞–¥–∫–∏ -->
            <div style="display: flex; gap: 10px; margin-bottom: 20px; border-bottom: 2px solid #eee; padding-bottom: 10px;">
                <button onclick="showTab('menu')" id="tabMenu" style="background: #d4a762; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer;">–ú–µ–Ω—é</button>
                <button onclick="showTab('events')" id="tabEvents" style="background: #ddd; color: #333; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer;">–°–æ–±—ã—Ç–∏—è</button>
                <button onclick="showTab('gallery')" id="tabGallery" style="background: #ddd; color: #333; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer;">–ì–∞–ª–µ—Ä–µ—è</button>
            </div>

            <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–µ–Ω—é -->
            <div id="tabMenuContent">
                <h3 style="color: #2c1810; margin-bottom: 15px;">–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ –±–ª—é–¥–æ</h3>
                <input type="text" id="dishName" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –±–ª—é–¥–∞" style="width: 100%; padding: 10px; margin: 5px 0; border: 1px solid #ddd; border-radius: 5px;">
                <textarea id="dishDescription" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ" style="width: 100%; padding: 10px; margin: 5px 0; border: 1px solid #ddd; border-radius: 5px; height: 80px;"></textarea>
                <input type="number" id="dishPrice" placeholder="–¶–µ–Ω–∞" style="width: 100%; padding: 10px; margin: 5px 0; border: 1px solid #ddd; border-radius: 5px;">
                <input type="number" id="dishCalories" placeholder="–ö–∞–ª–æ—Ä–∏–∏" style="width: 100%; padding: 10px; margin: 5px 0; border: 1px solid #ddd; border-radius: 5px;">
                <button onclick="addNewDish()" style="background: #4CAF50; color: white; border: none; padding: 12px; border-radius: 5px; cursor: pointer; width: 100%; margin-top: 10px;">–î–æ–±–∞–≤–∏—Ç—å –±–ª—é–¥–æ</button>

                <h3 style="color: #2c1810; margin: 25px 0 15px 0;">–¢–µ–∫—É—â–µ–µ –º–µ–Ω—é</h3>
                <div id="menuList"></div>
            </div>

            <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è–º–∏ -->
            <div id="tabEventsContent" style="display: none;">
                <h3 style="color: #2c1810; margin-bottom: 15px;">–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ —Å–æ–±—ã—Ç–∏–µ</h3>
                <input type="text" id="eventTitle" placeholder="–ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å–æ–±—ã—Ç–∏—è" style="width: 100%; padding: 10px; margin: 5px 0; border: 1px solid #ddd; border-radius: 5px;">
                <textarea id="eventDescription" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è" style="width: 100%; padding: 10px; margin: 5px 0; border: 1px solid #ddd; border-radius: 5px; height: 100px;"></textarea>
                <button onclick="addNewEvent()" style="background: #4CAF50; color: white; border: none; padding: 12px; border-radius: 5px; cursor: pointer; width: 100%; margin-top: 10px;">–î–æ–±–∞–≤–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ</button>

                <h3 style="color: #2c1810; margin: 25px 0 15px 0;">–¢–µ–∫—É—â–∏–µ —Å–æ–±—ã—Ç–∏—è</h3>
                <div id="eventsList"></div>
            </div>

            <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–∞–ª–µ—Ä–µ–µ–π -->
            <div id="tabGalleryContent" style="display: none;">
                <h3 style="color: #2c1810; margin-bottom: 15px;">–ì–∞–ª–µ—Ä–µ—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π</h3>
                <p>–í—Å–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∑–∞—Ä–∞–Ω–µ–µ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö.</p>
                <div id="galleryList"></div>
            </div>
        </div>
    </div>
</div>

<!-- –ö–Ω–æ–ø–∫–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è –∞–¥–º–∏–Ω–∫–∏ -->
<button id="adminButton" onclick="openAdminPanel()" style="position: fixed; bottom: 30px; right: 30px; background: #2c1810; color: white; border: none; padding: 12px 20px; border-radius: 50px; cursor: pointer; box-shadow: 0 4px 15px rgba(0,0,0,0.2); z-index: 100; display: none;">
    üõ† –ê–¥–º–∏–Ω–∫–∞
</button>

<script>
const API_URL = 'http://localhost:5000/api';
let currentUser = null;

// ========== –§–£–ù–ö–¶–ò–ò –ê–î–ú–ò–ù–ö–ò ==========

function openAdminPanel() {
    document.getElementById('adminPanel').style.display = 'flex';
}

function closeAdminPanel() {
    document.getElementById('adminPanel').style.display = 'none';
}

async function handleLogin() {
    const username = document.getElementById('username').value;
    const password = document.getElementById('password').value;
    
    if (!username || !password) {
        alert('–í–≤–µ–¥–∏—Ç–µ –ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å');
        return;
    }
    
    try {
        const response = await fetch(`${API_URL}/login`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ username, password })
        });
        
        const data = await response.json();
        
        if (data.success) {
            currentUser = data.user;
            document.getElementById('loginForm').style.display = 'none';
            document.getElementById('adminDashboard').style.display = 'block';
            document.getElementById('adminButton').style.display = 'block';
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –¥–æ—Å—Ç—É–ø–Ω—ã–µ –≤–∫–ª–∞–¥–∫–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–æ–ª–∏
            if (currentUser.role !== 'admin') {
                document.getElementById('tabGallery').style.display = 'none';
            }
            
            loadAdminMenu();
            loadAdminEvents();
            loadGallery();
            showTab('menu');
            
            alert(`–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, ${currentUser.username}! (${currentUser.role})`);
        } else {
            alert(data.message || '–û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞');
        }
    } catch (error) {
        alert('–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º');
    }
}

function handleLogout() {
    currentUser = null;
    document.getElementById('adminDashboard').style.display = 'none';
    document.getElementById('loginForm').style.display = 'block';
    document.getElementById('adminButton').style.display = 'none';
    closeAdminPanel();
}

function showTab(tabName) {
    // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ –≤–∫–ª–∞–¥–∫–∏
    document.getElementById('tabMenuContent').style.display = 'none';
    document.getElementById('tabEventsContent').style.display = 'none';
    document.getElementById('tabGalleryContent').style.display = 'none';
    
    // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π —Å—Ç–∏–ª—å
    document.getElementById('tabMenu').style.background = '#ddd';
    document.getElementById('tabMenu').style.color = '#333';
    document.getElementById('tabEvents').style.background = '#ddd';
    document.getElementById('tabEvents').style.color = '#333';
    document.getElementById('tabGallery').style.background = '#ddd';
    document.getElementById('tabGallery').style.color = '#333';
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω—É–∂–Ω—É—é –≤–∫–ª–∞–¥–∫—É
    document.getElementById('tab' + tabName.charAt(0).toUpperCase() + tabName.slice(1) + 'Content').style.display = 'block';
    document.getElementById('tab' + tabName.charAt(0).toUpperCase() + tabName.slice(1)).style.background = '#d4a762';
    document.getElementById('tab' + tabName.charAt(0).toUpperCase() + tabName.slice(1)).style.color = 'white';
}

// ========== –†–ê–ë–û–¢–ê –° –ú–ï–ù–Æ ==========

async function loadAdminMenu() {
    try {
        const response = await fetch(`${API_URL}/menu`);
        const menu = await response.json();
        
        const menuList = document.getElementById('menuList');
        menuList.innerHTML = '';
        
        menu.forEach(item => {
            const div = document.createElement('div');
            div.style.border = '1px solid #eee';
            div.style.padding = '15px';
            div.style.margin = '10px 0';
            div.style.borderRadius = '8px';
            div.style.display = 'flex';
            div.style.justifyContent = 'space-between';
            div.style.alignItems = 'center';
            
            div.innerHTML = `
                <div>
                    <strong style="color: #2c1810;">${item.name}</strong><br>
                    <span style="color: #666; font-size: 14px;">${item.price} ‚ÇΩ</span>
                </div>
                <button onclick="deleteMenuItem(${item.id})" 
                        style="background: #f44336; color: white; border: none; padding: 8px 15px; border-radius: 4px; cursor: pointer; font-size: 14px;">
                    –£–¥–∞–ª–∏—Ç—å
                </button>
            `;
            
            menuList.appendChild(div);
        });
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –º–µ–Ω—é:', error);
    }
}

async function addNewDish() {
    if (!currentUser || (currentUser.role !== 'admin' && currentUser.role !== 'manager')) {
        alert('–¢–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –∏–ª–∏ –º–µ–Ω–µ–¥–∂–µ—Ä –º–æ–∂–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –±–ª—é–¥–∞');
        return;
    }
    
    const name = document.getElementById('dishName').value;
    const description = document.getElementById('dishDescription').value;
    const price = document.getElementById('dishPrice').value;
    const calories = document.getElementById('dishCalories').value || 0;
    
    if (!name || !price) {
        alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∏ —Ü–µ–Ω—É');
        return;
    }
    
    try {
        const response = await fetch(`${API_URL}/menu`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ name, description, price: parseInt(price), calories: parseInt(calories) })
        });
        
        if (response.ok) {
            alert('–ë–ª—é–¥–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ!');
            document.getElementById('dishName').value = '';
            document.getElementById('dishDescription').value = '';
            document.getElementById('dishPrice').value = '';
            document.getElementById('dishCalories').value = '';
            
            loadAdminMenu();
            loadMenuOnSite(); // –û–±–Ω–æ–≤–ª—è–µ–º –º–µ–Ω—é –Ω–∞ —Å–∞–π—Ç–µ
        } else {
            alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏');
        }
    } catch (error) {
        alert('–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è');
    }
}

async function deleteMenuItem(id) {
    if (!confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç–æ –±–ª—é–¥–æ?')) return;
    
    try {
        const response = await fetch(`${API_URL}/menu/${id}`, {
            method: 'DELETE'
        });
        
        if (response.ok) {
            alert('–ë–ª—é–¥–æ —É–¥–∞–ª–µ–Ω–æ');
            loadAdminMenu();
            loadMenuOnSite();
        }
    } catch (error) {
        alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏');
    }
}

// ========== –†–ê–ë–û–¢–ê –° –°–û–ë–´–¢–ò–Ø–ú–ò ==========

async function loadAdminEvents() {
    try {
        const response = await fetch(`${API_URL}/events`);
        const events = await response.json();
        
        const eventsList = document.getElementById('eventsList');
        eventsList.innerHTML = '';
        
        events.forEach(event => {
            const div = document.createElement('div');
            div.style.border = '1px solid #eee';
            div.style.padding = '15px';
            div.style.margin = '10px 0';
            div.style.borderRadius = '8px';
            
            div.innerHTML = `
                <strong style="color: #2c1810;">${event.title}</strong>
                <p style="color: #888; font-size: 12px; margin: 5px 0;">${event.date}</p>
                <p style="color: #666; font-size: 14px;">${event.description}</p>
                ${currentUser.role === 'admin' ? `
                    <button onclick="deleteEvent(${event.id})" 
                            style="background: #f44336; color: white; border: none; padding: 5px 10px; border-radius: 4px; cursor: pointer; font-size: 12px; margin-top: 10px;">
                        –£–¥–∞–ª–∏—Ç—å
                    </button>
                ` : ''}
            `;
            
            eventsList.appendChild(div);
        });
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–æ–±—ã—Ç–∏–π:', error);
    }
}

async function addNewEvent() {
    if (!currentUser || (currentUser.role !== 'admin' && currentUser.role !== 'manager')) {
        alert('–¢–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –∏–ª–∏ –º–µ–Ω–µ–¥–∂–µ—Ä –º–æ–∂–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å —Å–æ–±—ã—Ç–∏—è');
        return;
    }
    
    const title = document.getElementById('eventTitle').value;
    const description = document.getElementById('eventDescription').value;
    
    if (!title || !description) {
        alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è');
        return;
    }
    
    try {
        const response = await fetch(`${API_URL}/events`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ title, description })
        });
        
        if (response.ok) {
            alert('–°–æ–±—ã—Ç–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ!');
            document.getElementById('eventTitle').value = '';
            document.getElementById('eventDescription').value = '';
            
            loadAdminEvents();
            loadEventsOnSite();
        }
    } catch (error) {
        alert('–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è');
    }
}

async function deleteEvent(id) {
    if (!confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç–æ —Å–æ–±—ã—Ç–∏–µ?')) return;
    
    try {
        const response = await fetch(`${API_URL}/events/${id}`, {
            method: 'DELETE'
        });
        
        if (response.ok) {
            alert('–°–æ–±—ã—Ç–∏–µ —É–¥–∞–ª–µ–Ω–æ');
            loadAdminEvents();
            loadEventsOnSite();
        }
    } catch (error) {
        alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏');
    }
}

// ========== –†–ê–ë–û–¢–ê –° –ì–ê–õ–ï–†–ï–ï–ô ==========

async function loadGallery() {
    try {
        const response = await fetch(`${API_URL}/gallery`);
        const gallery = await response.json();
        
        const galleryList = document.getElementById('galleryList');
        galleryList.innerHTML = '';
        
        gallery.forEach(item => {
            const div = document.createElement('div');
            div.style.margin = '15px 0';
            div.style.padding = '10px';
            div.style.border = '1px solid #eee';
            div.style.borderRadius = '8px';
            
            div.innerHTML = `
                <img src="${item.image_url}" alt="${item.title}" style="width: 100%; border-radius: 5px; margin-bottom: 10px;">
                <p style="color: #2c1810; font-weight: bold; margin: 5px 0;">${item.title || '–§–æ—Ç–æ'}</p>
            `;
            
            galleryList.appendChild(div);
        });
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –≥–∞–ª–µ—Ä–µ–∏:', error);
    }
}

// ========== –û–¢–û–ë–†–ê–ñ–ï–ù–ò–ï –ù–ê –°–ê–ô–¢–ï ==========

async function loadMenuOnSite() {
    try {
        const response = await fetch(`${API_URL}/menu`);
        const menu = await response.json();
        
        const menuContainer = document.getElementById('menuContainer');
        if (!menuContainer) return;
        
        menuContainer.innerHTML = '';
        
        menu.forEach(item => {
            const menuItem = document.createElement('div');
            menuItem.className = 'menu-item';
            menuItem.innerHTML = `
                <img src="${item.image_url || 'https://images.unsplash.com/photo-1568901346375-23c9450c58cd?w=600'}" alt="${item.name}">
                <div class="menu-content">
                    <h3>${item.name}</h3>
                    <p>${item.description}</p>
                    <div class="price">${item.price} ‚ÇΩ</div>
                    <div class="bju">
                        <span><strong>${item.calories || 500}</strong> –∫–∫–∞–ª</span>
                        <span><strong>${Math.floor(item.calories/20) || 25}–≥</strong> –±–µ–ª–∫–∏</span>
                        <span><strong>${Math.floor(item.calories/15) || 30}–≥</strong> —É–≥–ª–µ–≤–æ–¥—ã</span>
                        <span><strong>${Math.floor(item.calories/25) || 20}–≥</strong> –∂–∏—Ä—ã</span>
                    </div>
                </div>
            `;
            menuContainer.appendChild(menuItem);
        });
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –º–µ–Ω—é –Ω–∞ —Å–∞–π—Ç–µ:', error);
    }
}

async function loadEventsOnSite() {
    try {
        const response = await fetch(`${API_URL}/events`);
        const events = await response.json();
        
        const blogContainer = document.getElementById('blogContainer');
        if (!blogContainer) return;
        
        blogContainer.innerHTML = '';
        
        events.forEach(event => {
            const blogCard = document.createElement('div');
            blogCard.className = 'blog-card';
            blogCard.innerHTML = `
                <h3>${event.title}</h3>
                <div class="date">${event.date}</div>
                <p>${event.description}</p>
            `;
            blogContainer.appendChild(blogCard);
        });
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–æ–±—ã—Ç–∏–π –Ω–∞ —Å–∞–π—Ç–µ:', error);
    }
}

// ========== –ó–ê–ì–†–£–ó–ö–ê –ü–†–ò –°–¢–ê–†–¢–ï ==========

document.addEventListener('DOMContentLoaded', () => {
    // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Å–∞–π—Ç
    loadMenuOnSite();
    loadEventsOnSite();
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
    const savedUser = localStorage.getItem('coffeeUser');
    if (savedUser) {
        try {
            const user = JSON.parse(savedUser);
            if (user && user.role) {
                // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—Ö–æ–¥ (–¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏)
                document.getElementById('adminButton').style.display = 'block';
            }
        } catch (e) {
            localStorage.removeItem('coffeeUser');
        }
    }
});

// –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø—Ä–∏ –≤—Ö–æ–¥–µ
function saveUser(user) {
    localStorage.setItem('coffeeUser', JSON.stringify(user));
}
</script>    
</body>
    <!-- –ü–æ–¥–≤–∞–ª -->
    <footer>
        <div class="footer-content">
            <div class="footer-logo">–ö–æ—Ñ–µ–π–Ω—è</div>
            <p>–õ—É—á—à–∏–π –∫–æ—Ñ–µ –∏ –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞ –¥–ª—è –≤–∞—à–µ–≥–æ –æ—Ç–¥—ã—Ö–∞</p>
            </div>
            <div class="copyright">
                &copy; 2025 –ö–æ—Ñ–µ–π–Ω—è "–£—é—Ç". –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.
            </div>
        </div>
    </footer>
</html>